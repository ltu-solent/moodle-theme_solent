define("theme_solent/fitvids",["jquery","core/log"],(function($){return $.fn.fitVids=function(options){var settings={customSelector:null,ignore:["object[type='application/pdf']"],maxwidth:0,maxheight:0};if(!document.getElementById("fit-vids-style")){var head=document.head||document.getElementsByTagName("head")[0],div=document.createElement("div");div.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100% !important;height:100% !important;}</style>',head.appendChild(div.childNodes[1])}return options&&$.extend(settings,options),this.each((function(){var selectors=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];settings.customSelector&&$(settings.customSelector).each((function(){""!=this&&selectors.push(this)}));var ignoreList=[".fitvidsignore"];settings.ignore&&$(settings.ignore).each((function(){""!=this&&ignoreList.push(this)}));var $allVideos=$(this).find(selectors.join(","));($allVideos=($allVideos=$allVideos.not("object object")).not(ignoreList.join(","))).each((function(){var $this=$(this);if(!function($element,ignoreList){if($element.parents(ignoreList.join(",")).length>0)return!0;var $id=$element.attr("id");if($id){if("onlineaudiorecorder"===$id)return!0;if($id.indexOf("mp3")>=0)return!0}return!(!$element.tagName||"embed"!==$element.tagName.toLowerCase()||!$element.parent("object").length)||!!$element.parent(".fluid-width-video-wrapper").length}($this,ignoreList)){$this.css("height")||$this.css("width")||!isNaN($this.attr("height"))&&!isNaN($this.attr("width"))||($this.attr("height",9),$this.attr("width",16));var aspectRatio=("object"===this.tagName.toLowerCase()||$this.attr("height")&&!isNaN(parseInt($this.attr("height"),10))?parseInt($this.attr("height"),10):$this.height())/(isNaN(parseInt($this.attr("width"),10))?$this.width():parseInt($this.attr("width"),10));if(!$this.attr("id")){var videoID="fitvid"+Math.floor(999999*Math.random());$this.attr("id",videoID)}if($this.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*aspectRatio+"%"),settings.maxwidth>0||settings.maxheight>0){var p=$this.parent(".fluid-width-video-wrapper").wrap("<div></div>").parent();settings.maxwidth>0&&p.css("max-width",settings.maxwidth+"px"),settings.maxheight>0&&p.css("max-height",settings.maxheight+"px")}$this.removeAttr("height").removeAttr("width")}}))}))},{init:function(params){$(document).ready((function($){$(".pagelayout-course #page, .pagelayout-incourse #page").fitVids(params)}))}}}));

//# sourceMappingURL=fitvids.min.js.map