define("theme_solent/scrollspy",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=()=>{var callback;callback=(()=>{if(!document.querySelector(".section.main"))return;let editToggle=document.querySelector("form.editmode-switch-form");if(editToggle&&(editToggle.addEventListener("click",(()=>{window.sessionStorage.setItem("solent_scrollspy_edittoggled",!0);let viewporttop=window.scrollY,closest=null,closestoffset=null;document.querySelectorAll(".section.main").forEach((node=>{let thisoffset=node.offsetTop;closest&&closest.offsetTop&&(closestoffset=closest.offsetTop),(null===closest||Math.abs(thisoffset-viewporttop)<Math.abs(closestoffset-viewporttop))&&(closest=node)})),window.sessionStorage.setItem("solent_scrollspy_closestid",closest.id),window.sessionStorage.setItem("solent_scrollspy_closestdelta",viewporttop-closest.offsetTop)})),window.sessionStorage.getItem("solent_scrollspy_edittoggled"))){let closestid=window.sessionStorage.getItem("solent_scrollspy_closestid"),closestdelta=window.sessionStorage.getItem("solent_scrollspy_closestdelta");if(closestid&&closestdelta){let y=document.getElementById(closestid).offsetTop+parseInt(closestdelta);window.scrollTo(0,y)}window.sessionStorage.removeItem("solent_scrollspy_edittoggled"),window.sessionStorage.removeItem("solent_scrollspy_closestid"),window.sessionStorage.removeItem("solent_scrollspy_closestdelta")}})(),"complete"===document.readyState||"interactive"===document.readyState?setTimeout(callback,1):document.addEventListener("DOMContentLoaded",callback)}}));

//# sourceMappingURL=scrollspy.min.js.map